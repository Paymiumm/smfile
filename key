def generate_hash_values(name):
    return generate_password_hash(name, method='sha256')


class GenerateQrCode(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(120), nullable=False)
    transact_id = db.Column(db.String(120), nullable=False)
    transact_key = db.Column(db.String(120), nullable=False)
    time_stamp = db.Column(db.DateTime, nullable=False)
    amount = db.Column(db.String(500), nullable=False)

    def __init__(self, name, transact_id, transact_key, time_stamp, amount):
        self.name = generate_hash_values(name)
        self.transact_id = generate_hash_values(transact_id)
        self.transact_key = generate_hash_values(transact_key)
        self.time_stamp = generate_hash_values(time_stamp)
        self.amount = generate_hash_values(amount)

    def verify_name(self, text):
        if check_password_hash(self.name, text):
            return True
        return False

    def verify_transact_id(self, text):
        if check_password_hash(self.transact_id, text):
            return True
        return False

    def verify_transact_key(self, text):
        if check_password_hash(self.transact_key, text):
            return True
        return False

    def verify_time_stamp(self, text):
        if check_password_hash(self.time_stamp, text):
            return True
        return False

    def verify_amount(self, text):
        if check_password_hash(self.amount, text):
            return True
        return False
